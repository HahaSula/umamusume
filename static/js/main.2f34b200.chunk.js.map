{"version":3,"sources":["components/homepage/Homepage.js","components/compatibility/Compatibility.js","App.js","index.js"],"names":["Homepage","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","characterIds","keys","characterJson","relations","i","length","j","calculateRelation","id1","id2","_","intersection","relation_member","reduce","sum","id","parseInt","relation","_this2","react_default","a","createElement","idToPortrait","map","targetId","class","src","concat","alt","text","_this3","createRow","Component","Compatibility","_useState","useState","entries","_useState2","slicedToArray","umas","_useState3","_useState4","uma","setUma","rel","console","log","FormControl","InputLabel","Select","labelId","value","onChange","event","target","name","index","MenuItem","key","forEach","uma_other","push","sort","b","relationArray","App","_Component","_getPrototypeOf2","_len","arguments","args","Array","_key","apply","state","inherits","createClass","react_router_dom","className","react_router","exact","path","component","ReactDOM","render","App_App","document","getElementById"],"mappings":"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","file":"static/js/main.2f34b200.chunk.js","sourcesContent":["import _ from 'lodash';\nimport React, { Component } from 'react';\nimport \"react-tabs/style/react-tabs.css\";\n// import './App.css';\n\nimport characterJson from '../../db/character.json';\nimport relation from '../../db/relation.json';\nimport relation_member from '../../db/relation_member';\n\n\n\n\n\n\n\nexport default class Homepage extends Component {\n  constructor(props) {\n    super(props)\n    this.characterIds = Object.keys(characterJson);\n    this.relations = {};\n    for (let i = 0; i < this.characterIds.length; i += 1) {\n      this.relations[this.characterIds[i]] = {};\n      for (let j = 0; j < this.characterIds.length; j += 1) {\n        this.relations[this.characterIds[i]][this.characterIds[j]] = this.calculateRelation(this.characterIds[i], this.characterIds[j]);\n      }\n    }\n  }\n\n  calculateRelation(id1, id2) {\n    if (id1 === id2) {\n      return 0;\n    }\n    const relations = _.intersection(relation_member[id1], relation_member[id2])\n    return _.reduce(relations, (sum, id) => sum += parseInt(relation[id]), 0);\n  }\n\n  createRow(id) {\n    return (\n      <tr>\n        <th>{this.idToPortrait(id)}</th>\n        { _.map(this.characterIds, (targetId) => <th>{ this.calculateRelation(id, targetId) }</th>) }\n      </tr>\n    )\n  }\n\n  idToPortrait(id) {\n    return (\n      <img class=\"portrait\" src={`image/character/portrait/${id}.png`} alt={characterJson[id].text}/>\n    )\n  }\n\n  render() {\n    return (\n      <table>\n        <tbody>\n          <tr>\n            <th></th>\n            { _.map(this.characterIds, (id) => <th>{this.idToPortrait(id)}</th>) }\n          </tr>\n          { _.map(this.characterIds, (id) => this.createRow(id)) }\n        </tbody>\n      </table>\n    );\n  }\n}\n","import React, { useState, useEffect } from 'react';\nimport _ from 'lodash';\n\n// import './App.css';\n\nimport characterJson from '../../db/character.json';\nimport relation from '../../db/relation.json';\nimport relation_member from '../../db/relation_member';\n\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\n\n\nfunction Compatibility() {\n\n  const [umas, setUmas] = useState(Object.entries(characterJson));\n  const [uma, setUma] = useState({});\n\n  const handleChange = (event) => {\n    let value = event.target.value;\n\n    setUma({\n      'id': value[0],\n      'name': value[1]['text'],\n    });\n  };\n\n  const relationArray = () => {\n    let rel = [];\n    umas.forEach((uma_other) => {\n\n      if (uma_other[0] != uma.id) {\n        rel.push([uma_other[1].text ,calculateRelation(uma.id, uma_other[0]), 'image/character/portrait/' + uma_other[0] + '.png']);\n      };\n    });\n    rel.sort((a, b) => a[1] < b[1] ? 1 : -1)\n\n    return rel.map((value, index) => \n      <tr key={index}>\n        <td>{value[0]}</td>\n        <td>{value[1]}</td>\n        <td><img src={value[2]} alt={value[1]} /></td>\n      </tr>);\n  }\n\n\n  function calculateRelation(id1, id2) {\n    if (id1 === id2) {\n      return 0;\n    }\n    const rel = _.intersection(relation_member[id1], relation_member[id2])\n    console.log(rel);\n    return _.reduce(rel, (sum, id) => sum += parseInt(relation[id]), 0);\n  }\n\n  return (\n    <div>\n      <div class=\"dropdown\">\n      <FormControl >\n        <InputLabel id=\"demo-simple-select-label\">ウマ</InputLabel>\n        <Select\n          labelId=\"demo-simple-select-label\"\n          id=\"demo-simple-select\"\n          value={uma[1]}\n          onChange={handleChange}\n        >\n          {umas.map((uma, index) => <MenuItem key={index} value={uma} >{uma[1]['text']}</MenuItem>)}\n        </Select>\n      </FormControl>\n\n      </div>\n\n      <table>\n        {relationArray()}\n\n      </table>\n      \n\n\n\n\n    </div>\n  );\n\n}\n\nexport default Compatibility;\n","import _ from 'lodash';\nimport React, { Component } from 'react';\nimport \"react-tabs/style/react-tabs.css\";\nimport './App.css';\n\nimport characterJson from './db/character.json';\nimport relation from './db/relation.json';\nimport relation_member from './db/relation_member';\n\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\nimport Homepage from './components/homepage/Homepage';\nimport Compatibility from './components/compatibility/Compatibility';\n\n\nexport class App extends Component{\n  state = {\n  }\n  \n  render() {\n    return (\n      <Router>\n        <div className=\"App\">\n\t\t      <div className=\"content\">\n\t\t        <Route exact path=\"/\" component={Homepage} />\n\t\t        <Route path=\"/Compatibility\" component={Compatibility} />\n\t\t      </div>\n        </div>\n      </Router>\n    );\n  }\n} \n\n\n//\t\t        <Route path=\"/Compatibility\" component={Compatibility} />\n\n\n\n\n\n\n\n// export class App extends Component {\n//   constructor(props) {\n//     super(props)\n//     this.characterIds = Object.keys(characterJson);\n//     this.relations = {};\n//     for (let i = 0; i < this.characterIds.length; i += 1) {\n//       this.relations[this.characterIds[i]] = {};\n//       for (let j = 0; j < this.characterIds.length; j += 1) {\n//         this.relations[this.characterIds[i]][this.characterIds[j]] = this.calculateRelation(this.characterIds[i], this.characterIds[j]);\n//       }\n//     }\n//   }\n\n//   calculateRelation(id1, id2) {\n//     if (id1 === id2) {\n//       return 0;\n//     }\n//     const relations = _.intersection(relation_member[id1], relation_member[id2])\n//     return _.reduce(relations, (sum, id) => sum += parseInt(relation[id]), 0);\n//   }\n\n//   createRow(id) {\n//     return (\n//       <tr>\n//         <th>{this.idToPortrait(id)}</th>\n//         { _.map(this.characterIds, (targetId) => <th>{ this.calculateRelation(id, targetId) }</th>) }\n//       </tr>\n//     )\n//   }\n\n//   idToPortrait(id) {\n//     return (\n//       <img class=\"portrait\" src={`image/character/portrait/${id}.png`} alt={characterJson[id].text}/>\n//     )\n//   }\n\n//   render() {\n//     return (\n//       <table>\n//         <tbody>\n//           <tr>\n//             <th></th>\n//             { _.map(this.characterIds, (id) => <th>{this.idToPortrait(id)}</th>) }\n//           </tr>\n//           { _.map(this.characterIds, (id) => this.createRow(id)) }\n//         </tbody>\n//       </table>\n//     );\n//   }\n// }\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { App } from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}