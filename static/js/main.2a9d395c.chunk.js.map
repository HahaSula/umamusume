{"version":3,"sources":["localization sync /ja-jp/.json$","localization sync /.json$","component/relation/graph.jsx","component/relation/query.jsx","component/calculator/calculator.jsx","localization.js","App.jsx","index.jsx"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","RelationGraph","calculateRelation","id1","id2","relations","_","intersection","relationMember","reduce","sum","parseInt","relation","idToPortrait","className","src","process","alt","characterJson","text","characterIds","i","length","j","targetId","createRow","RelationQuery","useState","entries","horses","horse","setUma","FormControl","InputLabel","Select","labelId","value","onChange","event","target","name","targetHorse","index","MenuItem","rel","forEach","horseOther","push","sortBy","relationArray","Calculator","Localization","files","require","filesJson","key","this","default","merge","locale","chain","filter","includes","Header","Layout","Content","Footer","Option","App","props","localization","state","getLocalization","changeLocalization","bind","setState","theme","mode","defaultSelectedKeys","Item","to","Simulator","exact","path","component","defaultValue","Component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.2a9d395c.chunk.js","sourcesContent":["var map = {\n\t\"./site/ja-jp.json\": 100\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 129;","var map = {\n\t\"./site/en-us.json\": 131,\n\t\"./site/ja-jp.json\": 100,\n\t\"./site/zh-tw.json\": 132\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 130;","import _ from 'lodash';\nimport React from 'react';\nimport 'react-tabs/style/react-tabs.css';\n\nimport './relation.css';\n\nimport characterJson from '../../db/character.json';\nimport relation from '../../db/relation.json';\nimport relationMember from '../../db/relation_member.json';\n\nfunction RelationGraph() {\n  function calculateRelation(id1, id2) {\n    if (id1 === id2) {\n      return 0;\n    }\n    const relations = _.intersection(relationMember[id1], relationMember[id2]);\n    return _.reduce(relations, (sum, id) => sum + parseInt(relation[id], 10), 0);\n  }\n\n  function idToPortrait(id) {\n    return (\n      <img\n        className=\"portrait\"\n        src={`${process.env.PUBLIC_URL}/static/image/character/portrait/${id}.png`}\n        alt={characterJson[id].text}\n      />\n    );\n  }\n\n  function createRow(id) {\n    return (\n      <tr>\n        <th>{idToPortrait(id)}</th>\n        { _.map(characterIds, (targetId) => <th>{ calculateRelation(id, targetId) }</th>) }\n      </tr>\n    );\n  }\n\n  const characterIds = Object.keys(characterJson);\n  const relations = {};\n  for (let i = 0; i < characterIds.length; i += 1) {\n    relations[characterIds[i]] = {};\n    for (let j = 0; j < characterIds.length; j += 1) {\n      relations[characterIds[i]][characterIds[j]] = calculateRelation(characterIds[i], characterIds[j]);\n    }\n  }\n\n  return (\n    <div className=\"content\">\n      <table>\n        <tbody>\n          <tr>\n            <th />\n            { _.map(characterIds, (id) => <th>{idToPortrait(id)}</th>) }\n          </tr>\n          { _.map(characterIds, (id) => createRow(id)) }\n        </tbody>\n      </table>\n    </div>\n  );\n}\n\nexport default RelationGraph;\n","import _ from 'lodash';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport React, { useState } from 'react';\n\nimport './relation.css';\n\nimport characterJson from '../../db/character.json';\nimport relation from '../../db/relation.json';\nimport relationMember from '../../db/relation_member.json';\n\nfunction RelationQuery() {\n  function calculateRelation(id1, id2) {\n    if (id1 === id2) {\n      return 0;\n    }\n    const relations = _.intersection(relationMember[id1], relationMember[id2]);\n    return _.reduce(relations, (sum, id) => sum + parseInt(relation[id], 10), 0);\n  }\n\n  const [horses] = useState(Object.entries(characterJson));\n  const [horse, setUma] = useState({});\n\n  const handleChange = (event) => {\n    const { value } = event.target;\n\n    setUma({\n      id: value[0],\n      name: value[1].text,\n    });\n  };\n\n  const relationArray = () => {\n    let rel = [];\n    horses.forEach((horseOther) => {\n      if (horseOther[0] !== horse.id) {\n        rel.push([\n          horseOther[1].text,\n          calculateRelation(horse.id, horseOther[0]),\n          `${process.env.PUBLIC_URL}/static/image/character/portrait/${horseOther[0]}.png`,\n        ]);\n      }\n    });\n    rel = _.sortBy(rel, [(value) => -value[1]]);\n\n    return rel.map((value, index) => (\n      <tr key={index[1]}>\n        <td>{value[0]}</td>\n        <td>{value[1]}</td>\n        <td><img className=\"portrait\" src={value[2]} alt={value[1]} /></td>\n      </tr>\n    ));\n  };\n\n  return (\n    <div className=\"content\">\n      <div className=\"dropdown\">\n        <FormControl>\n          <InputLabel id=\"demo-simple-select-label\">ウマ</InputLabel>\n          <Select\n            labelId=\"demo-simple-select-label\"\n            id=\"demo-simple-select\"\n            value={horse[1]}\n            onChange={handleChange}\n          >\n            { horses.map((targetHorse, index) => (\n              <MenuItem key={`${index[1]}_option`} value={targetHorse}>{targetHorse[1].text}</MenuItem>\n            ))}\n          </Select>\n        </FormControl>\n      </div>\n      <table>\n        {relationArray()}\n      </table>\n    </div>\n  );\n}\n\nexport default RelationQuery;\n","import React from 'react';\n\nfunction Calculator() {\n  return (\n    <div>Test</div>\n  );\n}\n\nexport default Calculator;\n","import _ from 'lodash';\n\nclass Localization {\n  constructor() {\n    const files = require.context('./localization/', true, /ja-jp\\.json$/);\n    const filesJson = _.map(files.keys(), (key) => files(key));\n    this.default = _.merge({}, ...filesJson);\n  }\n\n  getLocalization(locale) {\n    const files = require.context('./localization/', true, /.json$/);\n    const filesJson = _\n      .chain(files.keys())\n      .filter((key) => _.includes(key, locale))\n      .map((key) => files(key))\n      .value();\n    return _.merge({}, this.default, ...filesJson);\n  }\n}\n\nexport default Localization;\n","import { Layout, Menu, Select } from 'antd';\nimport React, { Component } from 'react';\nimport {\n  Redirect, HashRouter as Router, Route, Link, Switch,\n} from 'react-router-dom';\n\nimport RelationGraph from './component/relation/graph';\nimport RelationQuery from './component/relation/query';\nimport Calculator from './component/calculator/calculator';\nimport Localization from './localization';\n\nimport 'antd/dist/antd.css';\nimport './App.css';\n\nconst { Header, Content, Footer } = Layout;\nconst { Option } = Select;\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.localization = new Localization();\n    this.state = {\n      localization: this.localization.getLocalization('ja-jp'),\n    };\n    this.changeLocalization = this.changeLocalization.bind(this);\n  }\n\n  changeLocalization(locale) {\n    this.setState({\n      localization: this.localization.getLocalization(locale),\n    });\n  }\n\n  render() {\n    const { localization } = this.state;\n    return (\n      <Router>\n        <Layout className=\"layout\">\n          <Header className=\"header\">\n            <Menu theme=\"dark\" mode=\"horizontal\" defaultSelectedKeys={['1']}>\n              <Menu.Item key=\"1\">\n                <Link to=\"/relation\" className=\"link\">{localization['Relation Graph']}</Link>\n              </Menu.Item>\n              <Menu.Item key=\"2\">\n                <Link to=\"/compatibility\" className=\"link\">{localization['Relation Query']}</Link>\n              </Menu.Item>\n              <Menu.Item key=\"3\">\n                <Link to=\"/calculator\" className=\"link\">{localization.Simulator}</Link>\n              </Menu.Item>\n            </Menu>\n          </Header>\n          <Content className=\"tabs\">\n            <Switch>\n              <Route exact path=\"/\">\n                <Redirect to=\"/relation\" />\n              </Route>\n              <Route path=\"/relation\" component={RelationGraph} localization={localization} />\n              <Route path=\"/compatibility\" component={RelationQuery} localization={localization} />\n              <Route path=\"/calculator\" component={Calculator} localization={localization} />\n            </Switch>\n          </Content>\n          <Footer className=\"footer\">\n            <Select className=\"localization\" defaultValue=\"ja-jp\" onChange={this.changeLocalization}>\n              <Option value=\"zh-tw\">繁體中文</Option>\n              <Option value=\"ja-jp\">日本語</Option>\n              <Option value=\"en-us\">English</Option>\n            </Select>\n          </Footer>\n        </Layout>\n      </Router>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}