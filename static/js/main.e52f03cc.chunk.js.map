{"version":3,"sources":["component/relation/relation.jsx","component/compatibility/compatibility.jsx","App.jsx","index.jsx"],"names":["Relation","props","characterIds","Object","keys","characterJson","relations","i","length","j","calculateRelation","id","idToPortrait","_","map","this","targetId","createRow","id1","id2","intersection","relationMember","reduce","sum","parseInt","relation","className","src","process","alt","text","Component","Compatibility","useState","entries","horses","horse","setUma","FormControl","InputLabel","Select","labelId","value","onChange","event","target","name","targetHorse","index","MenuItem","rel","forEach","horseOther","push","sortBy","relationArray","App","prop","state","path","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e52f03cc.chunk.js","sourcesContent":["import _ from 'lodash';\nimport React, { Component } from 'react';\nimport 'react-tabs/style/react-tabs.css';\n\nimport characterJson from '../../db/character.json';\nimport relation from '../../db/relation.json';\nimport relationMember from '../../db/relation_member.json';\n\nclass Relation extends Component {\n  static calculateRelation(id1, id2) {\n    if (id1 === id2) {\n      return 0;\n    }\n    const relations = _.intersection(relationMember[id1], relationMember[id2]);\n    return _.reduce(relations, (sum, id) => sum + parseInt(relation[id], 10), 0);\n  }\n\n  static idToPortrait(id) {\n    return (\n      <img\n        className=\"portrait\"\n        src={`${process.env.PUBLIC_URL}/static/image/character/portrait/${id}.png`}\n        alt={characterJson[id].text}\n      />\n    );\n  }\n\n  constructor(props) {\n    super(props);\n    this.characterIds = Object.keys(characterJson);\n    this.relations = {};\n    for (let i = 0; i < this.characterIds.length; i += 1) {\n      this.relations[this.characterIds[i]] = {};\n      for (let j = 0; j < this.characterIds.length; j += 1) {\n        this.relations[this.characterIds[i]][this.characterIds[j]] = Relation.calculateRelation(\n          this.characterIds[i], this.characterIds[j],\n        );\n      }\n    }\n  }\n\n  createRow(id) {\n    return (\n      <tr>\n        <th>{Relation.idToPortrait(id)}</th>\n        { _.map(this.characterIds, (targetId) => <th>{ Relation.calculateRelation(id, targetId) }</th>) }\n      </tr>\n    );\n  }\n\n  render() {\n    return (\n      <table>\n        <tbody>\n          <tr>\n            <th />\n            { _.map(this.characterIds, (id) => <th>{Relation.idToPortrait(id)}</th>) }\n          </tr>\n          { _.map(this.characterIds, (id) => this.createRow(id)) }\n        </tbody>\n      </table>\n    );\n  }\n}\n\nexport default Relation;\n","import _ from 'lodash';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport React, { useState } from 'react';\n\nimport characterJson from '../../db/character.json';\nimport relation from '../../db/relation.json';\nimport relationMember from '../../db/relation_member.json';\n\nfunction Compatibility() {\n  function calculateRelation(id1, id2) {\n    if (id1 === id2) {\n      return 0;\n    }\n    const relations = _.intersection(relationMember[id1], relationMember[id2]);\n    return _.reduce(relations, (sum, id) => sum + parseInt(relation[id], 10), 0);\n  }\n\n  const [horses] = useState(Object.entries(characterJson));\n  const [horse, setUma] = useState({});\n\n  const handleChange = (event) => {\n    const { value } = event.target;\n\n    setUma({\n      id: value[0],\n      name: value[1].text,\n    });\n  };\n\n  const relationArray = () => {\n    const rel = [];\n    horses.forEach((horseOther) => {\n      if (horseOther[0] !== horse.id) {\n        rel.push([\n          horseOther[1].text,\n          calculateRelation(horse.id, horseOther[0]),\n          `${process.env.PUBLIC_URL}/static/image/character/portrait/${horseOther[0]}.png`,\n        ]);\n      }\n    });\n    _.sortBy(rel, [(value) => value[1]]);\n\n    return rel.map((value, index) => (\n      <tr key={index[1]}>\n        <td>{value[0]}</td>\n        <td>{value[1]}</td>\n        <td><img src={value[2]} alt={value[1]} /></td>\n      </tr>\n    ));\n  };\n\n  return (\n    <div>\n      <div className=\"dropdown\">\n        <FormControl>\n          <InputLabel id=\"demo-simple-select-label\">ウマ</InputLabel>\n          <Select\n            labelId=\"demo-simple-select-label\"\n            id=\"demo-simple-select\"\n            value={horse[1]}\n            onChange={handleChange}\n          >\n            { horses.map((targetHorse, index) => (\n              <MenuItem key={`${index[1]}_option`} value={targetHorse}>{targetHorse[1].text}</MenuItem>\n            ))}\n          </Select>\n        </FormControl>\n      </div>\n      <table>\n        {relationArray()}\n      </table>\n    </div>\n  );\n}\n\nexport default Compatibility;\n","import React, { Component } from 'react';\nimport 'react-tabs/style/react-tabs.css';\nimport './App.css';\n\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\nimport Relation from './component/relation/relation';\nimport Compatibility from './component/compatibility/compatibility';\n\nclass App extends Component {\n  constructor(prop) {\n    super(prop);\n    this.state = {};\n  }\n\n  render() {\n    return (\n      <Router>\n        <div className=\"App\">\n          <div className=\"content\">\n            <Route path=\"/Relation\" component={Relation} />\n            <Route path=\"/Compatibility\" component={Compatibility} />\n          </div>\n        </div>\n      </Router>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}